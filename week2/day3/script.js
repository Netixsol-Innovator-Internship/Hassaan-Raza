// // Menu data
// const menuItems = [
//     {
//         id: 'burger1',
//         category: 'burger',
//         title: 'Royal Cheese Burger with extra Fries',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Burger1.png',
//     },
//     {
//         id: 'burger2',
//         category: 'burger',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Burger2.png',
//     },
//     {
//         id: 'burger3',
//         category: 'burger',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Burger3.png',
//     },
//     {
//         id: 'burger4',
//         category: 'burger',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Burger4.png',
//     },
//     {
//         id: 'burger5',
//         category: 'burger',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Burger5.png',
//     },
//     {
//         id: 'burger6',
//         category: 'burger',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Burger6.png',
//     },
//     {
//         id: 'fries1',
//         category: 'fries',
//         title: 'Royal Cheese Burger with extra Fries',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Fries1.png',
//     },
//     {
//         id: 'fries2',
//         category: 'fries',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Fries2.png',
//     },
//     {
//         id: 'fries3',
//         category: 'fries',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Fries3.png',
//     },
//     {
//         id: 'fries4',
//         category: 'fries',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Fries4.png',
//     },
//     {
//         id: 'fries5',
//         category: 'fries',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Fries5.png',
//     },
//     {
//         id: 'fries6',
//         category: 'fries',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Fries6.png',
//     },
//     {
//         id: 'drink1',
//         category: 'drinks',
//         title: 'Royal Cheese Burger with extra Fries',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Drink1.png',
//     },
//     {
//         id: 'drink2',
//         category: 'drinks',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Drink2.png',
//     },
//     {
//         id: 'drink3',
//         category: 'drinks',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Drink3.png',
//     },
//     {
//         id: 'drink4',
//         category: 'drinks',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Drink4.png',
//     },
//     {
//         id: 'drink5',
//         category: 'drinks',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Drink5.png',
//     },
//     {
//         id: 'drink6',
//         category: 'drinks',
//         title: 'The classics for 3',
//         description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
//         price: 23.10,
//         image: './assets/img/Drink6.png',
//     },
// ];

// const resturants = [
//     {
//         id: 1,
//         name: "McDonald's London",
//         logo: "./assets/img/Mac.png",
//     },
//     {
//         id: 2,
//         name: "Papa Johns",
//         logo: "./assets/img/Papa.png",
//     },
//     {
//         id: 3,
//         name: "KFC West London",
//         logo: "./assets/img/kfc.png",
//     },
//     {
//         id: 4,
//         name: "Texas Chicken",
//         logo: "./assets/img/texas.png",
//     },
//     {
//         id: 5,
//         name: "Burger King",
//         logo: "./assets/img/king.png",
//     },
//     {
//         id: 6,
//         name: "Shaurma 1",
//         logo: "./assets/img/shaurma.png",
//     },
// ];

// const customerReviews = [
//     {
//         id: 1,
//         name: "St Gix",
//         location: "South London",
//         date: "24th September, 2023",
//         rating: 5,
//         comment: "The positive aspect was undoubtedly the efficiency of the service. The queue moved quickly, the staff was friendly, and the food was up to the usual McDonald's standard – hot and satisfying.",
//         avatar: "./assets/img/review_user.png",
//     },
//     {
//         id: 2,
//         name: "Maria Lopez",
//         location: "Manchester",
//         date: "12th October, 2023",
//         rating: 4,
//         comment: "Loved the quick service and fresh food. Seating area could have been cleaner, but overall a great experience.",
//         avatar: "./assets/img/review_user.png",
//     },
//     {
//         id: 3,
//         name: "James Smith",
//         location: "Birmingham",
//         date: "5th November, 2023",
//         rating: 3,
//         comment: "Average visit – food was okay, but the wait time was longer than expected during lunch hour.",
//         avatar: "./assets/img/review_user.png",
//     },
//     {
//         id: 4,
//         name: "Emily Chen",
//         location: "Glasgow",
//         date: "18th November, 2023",
//         rating: 5,
//         comment: "Fantastic service! The team was attentive, and my order was perfect. Will definitely come again.",
//         avatar: "./assets/img/review_user.png",
//     },
//     {
//         id: 5,
//         name: "Liam Patel",
//         location: "Leeds",
//         date: "3rd December, 2023",
//         rating: 4,
//         comment: "Food was tasty and served quickly. Would love to see more vegetarian options in the future.",
//         avatar: "./assets/img/review_user.png",
//     },
//     {
//         id: 6,
//         name: "Sophie Williams",
//         location: "Liverpool",
//         date: "15th December, 2023",
//         rating: 2,
//         comment: "Disappointed with the cold fries and missing items in my takeaway order. Staff were apologetic though.",
//         avatar: "./assets/img/review_user.png",
//     },
// ];

// // Cart object
// const cart = {
//     count: 0,
//     cartItems: [],
//     total: 0
// };

// function updateCartSummary() {
//     cart.count = cart.cartItems.reduce((sum, item) => sum + item.qty, 0);
//     cart.total = cart.cartItems.reduce((sum, item) => sum + (item.qty * item.price), 0);
//     updateCartUI();
// }

// function updateCartUI() {
//     const cartCountElement = document.getElementById('cart-count');
//     if (cartCountElement) {
//         cartCountElement.textContent = cart.count;
//     }
        
//     const totalAmountElement = document.getElementById('total-ammount');
//     if (totalAmountElement) {
//         totalAmountElement.textContent = cart.total.toFixed(2);
//     }
// }

// function addToCart(itemId) {
//     const menuItem = menuItems.find(item => item.id === itemId);
//     if (!menuItem) return;
        
//     const found = cart.cartItems.find(item => item.id === itemId);
//     if (found) {
//         found.qty += 1;
//     } else {
//         cart.cartItems.push({ 
//             id: menuItem.id,
//             name: menuItem.title,
//             price: menuItem.price,
//             qty: 1,
//             img: menuItem.image
//         });
//     }
//     updateCartSummary();
//     writeToCart();
    
//     // Re-render the menu section to update quantity badges
//     writeMenuSection(menuItem.category);
// }

// function removeFromCart(itemId) {
//     const foundIndex = cart.cartItems.findIndex(item => item.id === itemId);
//     if (foundIndex !== -1) {
//         const menuItem = menuItems.find(item => item.id === itemId);
//         cart.cartItems[foundIndex].qty -= 1;
//         if (cart.cartItems[foundIndex].qty <= 0) {
//             cart.cartItems.splice(foundIndex, 1);
//         }
//         updateCartSummary();
//         writeToCart();
        
//         // Re-render the menu section to update quantity badges
//         if (menuItem) {
//             writeMenuSection(menuItem.category);
//         }
//     }
// }

// function writeMenuSection(category) {
//     const container = document.getElementById(`${category}-menu-grid`);
//     if (!container) return;
        
//     container.innerHTML = "";
//     const items = menuItems.filter(menuItem => menuItem.category === category);
//     items.forEach(item => {
//         const cartItem = cart.cartItems.find(cartItem => cartItem.id === item.id);
//         container.innerHTML += `
//             <div class="shadow-xl grid grid-cols-2 gap-1 xl:gap-2 p-8 text-black dark:text-primary dark:bg-white/30 rounded-2xl">
//                 <div class="flex flex-col justify-between">
//                     <div class="text-lg lg:text-xl font-semibold">${item.title}</div>
//                     <div class="text-xs lg:text-sm dark:text-white">${item.description}</div>
//                     <div class="text-base lg:text-lg font-bold text-secondary dark:text-white">GBP ${item.price}</div>
//                 </div>
//                 <div class="place-self-end-safe">
//                     <div class="relative">
//                         <img src="${item.image}" alt="">
//                         <div class="absolute right-0 bottom-0 w-[44%] h-[40%] bg-white/90 rounded-tl-[55%] dark:invert dark:bg-white/60">
//                             <div onclick="addToCart('${item.id}')" class="absolute left-[25%] top-[25%] dark:hover:invert active:transition-all duration-75 cursor-pointer">
//                                 <img src="assets/img/Plus.png" alt="">
//                                 ${cartItem ? `<div class="absolute left-[70%] top-0 font-bold text-xs text-white w-4 h-4 pb-1 dark:invert-0 bg-primary rounded-full text-center">${cartItem.qty}</div>` : ''}
//                             </div>
//                         </div>
//                     </div>
//                 </div>
//             </div>
//         `;
//     });
// }

// function writeResturants() {
//     const container = document.getElementById('resturants');
//     if (!container) return;
        
//     container.innerHTML = "";
//     resturants.forEach(resturant => {
//         container.innerHTML += `
//             <div class="flex flex-col items-center">
//                 <div class="rounded-t-xl">
//                     <img src="${resturant.logo}" alt="">
//                     <div class="px-4 py-3 text-center bg-primary text-white font-bold text-sm sm:text-lg xl:text-sm 2xl:text-lg w-full rounded-b-xl">
//                         ${resturant.name}
//                     </div>
//                 </div>
//             </div>
//         `;
//     });
// }

// function writeToCart() {
//     const container = document.getElementById('cart-item');
//     if (!container) return;
        
//     container.innerHTML = '';
//     cart.cartItems.forEach(cartItem => {
//         container.innerHTML += `
//             <div class="group flex items-center justify-between cursor-pointer bg-[#D9D9D9]/60 p-4 rounded-lg hover:bg-secondary dark:bg-secondary">
//                 <div class="flex items-center gap-3">
//                     <img src="${cartItem.img}" alt="" class="w-[25%] h-[25%] border-2 border-white rounded-full">
//                     <div class="w-0.25 h-12 sm:h-15 bg-black/40 group-hover:invert group-active:invert dark:invert"></div>
//                     <span class="font-bold text-2xl pl-1 text-secondary group-hover:text-primary dark:group-hover:text-white group-active:text-primary dark:text-primary">${cartItem.name}</span>
//                 </div>
//                 <div class="flex items-center gap-2">
//                     <button class="w-5 sm:w-8 lg:w-10 group-hover:invert group-active:invert dark:invert cursor-pointer" onclick="removeFromCart('${cartItem.id}')">
//                         <img src="assets/img/Minus.png" alt="">
//                     </button>
//                     <div class="relative w-10 h-10 sm:w-15 sm:h-15 self-center bg-white text-xl font-bold rounded-sm text-center">
//                         <div class="absolute top-[25%] left-[40%]">${cartItem.qty}</div>
//                     </div>
//                     <button class="w-5 sm:w-8 lg:w-10 group-hover:invert group-active:invert dark:invert cursor-pointer" onclick="addToCart('${cartItem.id}')">
//                         <img src="assets/img/MacOS Maximize.png" alt="">
//                     </button>
//                 </div>
//             </div>
//         `;
//     });
// }

// function darkModeToggler() {
//     const themeToggler = document.getElementById("mode_toggler");
//     const themeIcon = document.getElementById("theme-icon");
//     if (localStorage.getItem("theme") === "dark" ||
//         (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
//         document.documentElement.classList.add("dark");
//         themeIcon.src = "assets/img/sun.png";
//     }
//     themeToggler.addEventListener("click", () => {
//         document.documentElement.classList.toggle("dark");
//         const isDark = document.documentElement.classList.contains("dark");
//         localStorage.setItem("theme", isDark ? "dark" : "light");
//         themeIcon.src = isDark ? "assets/img/sun.png" : "assets/img/moon.png";
//     });
// }

// function openCloseCartModal() {
//     document.getElementById('cart-modal-backdrop').classList.toggle('hidden');
// }

// // Review slider functionality
// let currentReviewIndex = 0;
// const reviewsPerPage = 3;

// function writeReviews() {
//     const container = document.getElementById('reviews-container');
//     if (!container) return;
    
//     container.innerHTML = '';
    
//     // Calculate which reviews to show
//     const startIndex = currentReviewIndex;
//     const endIndex = Math.min(startIndex + reviewsPerPage, customerReviews.length);
//     const reviewsToShow = customerReviews.slice(startIndex, endIndex);
    
//     reviewsToShow.forEach(review => {
//         const stars = '★'.repeat(review.rating) + '☆'.repeat(5 - review.rating);
//         container.innerHTML += `
//             <div class="shadow-lg p-8 text-black bg-white dark:bg-white/30">
//                 <div class="flex flex-col gap-4 sm:gap-8 justify-between">
//                     <div class="flex flex-col sm:flex-row self-start sm:self-auto gap-2 sm:justify-between items-center">
//                         <!-- User Review -->
//                         <div class="flex gap-2">
//                             <div>
//                                 <img src="${review.avatar}" alt="">
//                             </div>
//                             <div class="w-0.5 h-12.5 bg-primary"></div>
//                             <div>
//                                 <p class="text-lg font-semibold text-secondary dark:text-white">${review.name}</p>
//                                 <p class="text-primary">${review.location}</p>
//                             </div>
//                         </div>
//                         <div>
//                             <div class="flex sm:justify-end-safe">
//                                 <img src="assets/img/Star.png" alt="">
//                                 <img src="assets/img/Star.png" alt="">
//                                 <img src="assets/img/Star.png" alt="">
//                                 <img src="assets/img/Star.png" alt="">
//                                 <img src="assets/img/Star.png" alt="">
//                             </div>
//                             <div class="flex gap-2 justify-end-safe">
//                                 <div>
//                                     <img src="assets/img/Time Span.png" alt="">
//                                 </div>
//                                 <div class="text-sm dark:text-white">
//                                     ${review.date}
//                                 </div>
//                             </div>
//                         </div>
//                     </div>
//                     <div class="dark:text-white">
//                         ${review.comment}
//                     </div>
//                 </div>
//             </div>
//         `;
//     });
// }

// function nextReview() {
//     if (currentReviewIndex + reviewsPerPage < customerReviews.length) {
//         currentReviewIndex += reviewsPerPage;
//         writeReviews();
//     }
// }

// function previousReview() {
//     if (currentReviewIndex > 0) {
//         currentReviewIndex = Math.max(0, currentReviewIndex - reviewsPerPage);
//         writeReviews();
//     }
// }

// // Tab functionality
// function switchTab(tabName) {
//     // Hide all tab contents
//     const tabContents = document.querySelectorAll('.tab-content');
//     tabContents.forEach(content => {
//         content.classList.add('hidden');
//     });
    
//     // Remove active class from all tab buttons
//     const tabButtons = document.querySelectorAll('.tab-button');
//     tabButtons.forEach(button => {
//         button.classList.remove('font-bold', 'border');
//         // button.classList.add('text-primary');
//     });
    
//     // Show selected tab content
//     const selectedTab = document.getElementById(tabName);
//     if (selectedTab) {
//         selectedTab.classList.remove('hidden');
//     }
    
//     // Add active class to selected tab button
//     const selectedButton = document.getElementById(`tab-${tabName}`);
//     if (selectedButton) {
//         selectedButton.classList.add('font-bold', 'text-black','border', 'border-primary');
//         selectedButton.classList.remove('text-primary');
//     }
// }

// // Initialize the page
// function init() {
//     darkModeToggler();
//     writeMenuSection('burger');
//     writeMenuSection('fries');
//     writeMenuSection('drinks');
//     writeResturants();
//     writeReviews();
//     updateCartSummary();
// }

// // Load the page
// document.addEventListener('DOMContentLoaded', init);



// working above

// below with AnimTON
// Menu data
const menuItems = [
    {
        id: 'burger1',
        category: 'burger',
        title: 'Royal Cheese Burger with extra Fries',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Burger1.png',
    },
    {
        id: 'burger2',
        category: 'burger',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Burger2.png',
    },
    {
        id: 'burger3',
        category: 'burger',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Burger3.png',
    },
    {
        id: 'burger4',
        category: 'burger',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Burger4.png',
    },
    {
        id: 'burger5',
        category: 'burger',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Burger5.png',
    },
    {
        id: 'burger6',
        category: 'burger',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Burger6.png',
    },
    {
        id: 'fries1',
        category: 'fries',
        title: 'Royal Cheese Burger with extra Fries',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Fries1.png',
    },
    {
        id: 'fries2',
        category: 'fries',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Fries2.png',
    },
    {
        id: 'fries3',
        category: 'fries',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Fries3.png',
    },
    {
        id: 'fries4',
        category: 'fries',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Fries4.png',
    },
    {
        id: 'fries5',
        category: 'fries',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Fries5.png',
    },
    {
        id: 'fries6',
        category: 'fries',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Fries6.png',
    },
    {
        id: 'drink1',
        category: 'drinks',
        title: 'Royal Cheese Burger with extra Fries',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Drink1.png',
    },
    {
        id: 'drink2',
        category: 'drinks',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Drink2.png',
    },
    {
        id: 'drink3',
        category: 'drinks',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Drink3.png',
    },
    {
        id: 'drink4',
        category: 'drinks',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Drink4.png',
    },
    {
        id: 'drink5',
        category: 'drinks',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Drink5.png',
    },
    {
        id: 'drink6',
        category: 'drinks',
        title: 'The classics for 3',
        description: '1 McChicken™, 1 Big Mac™, 1 Royal Cheeseburger, 3 medium sized French Fries, 3 cold drinks',
        price: 23.10,
        image: './assets/img/Drink6.png',
    },
];

const resturants = [
    {
        id: 1,
        name: "McDonald's London",
        logo: "./assets/img/Mac.png",
    },
    {
        id: 2,
        name: "Papa Johns",
        logo: "./assets/img/Papa.png",
    },
    {
        id: 3,
        name: "KFC West London",
        logo: "./assets/img/kfc.jpg",
    },
    {
        id: 4,
        name: "Texas Chicken",
        logo: "./assets/img/texas.jpg",
    },
    {
        id: 5,
        name: "Burger King",
        logo: "./assets/img/king.jpg",
    },
    {
        id: 6,
        name: "Shaurma 1",
        logo: "./assets/img/shaurma.jpg",

];

const customerReviews = [
    {
        id: 1,
        name: "St Gix",
        location: "South London",
        date: "24th September, 2023",
        rating: 5,
        comment: "The positive aspect was undoubtedly the efficiency of the service. The queue moved quickly, the staff was friendly, and the food was up to the usual McDonald's standard – hot and satisfying.",
        avatar: "./assets/img/review_user.png",
    },
    {
        id: 2,
        name: "Maria Lopez",
        location: "Manchester",
        date: "12th October, 2023",
        rating: 4,
        comment: "Loved the quick service and fresh food. Seating area could have been cleaner, but overall a great experience.",
        avatar: "./assets/img/review_user.png",
    },
    {
        id: 3,
        name: "James Smith",
        location: "Birmingham",
        date: "5th November, 2023",
        rating: 3,
        comment: "Average visit – food was okay, but the wait time was longer than expected during lunch hour.",
        avatar: "./assets/img/review_user.png",
    },
    {
        id: 4,
        name: "Emily Chen",
        location: "Glasgow",
        date: "18th November, 2023",
        rating: 5,
        comment: "Fantastic service! The team was attentive, and my order was perfect. Will definitely come again.",
        avatar: "./assets/img/review_user.png",
    },
    {
        id: 5,
        name: "Liam Patel",
        location: "Leeds",
        date: "3rd December, 2023",
        rating: 4,
        comment: "Food was tasty and served quickly. Would love to see more vegetarian options in the future.",
        avatar: "./assets/img/review_user.png",
    },
    {
        id: 6,
        name: "Sophie Williams",
        location: "Liverpool",
        date: "15th December, 2023",
        rating: 2,
        comment: "Disappointed with the cold fries and missing items in my takeaway order. Staff were apologetic though.",
        avatar: "./assets/img/review_user.png",
    },
];

// Cart object
const cart = {
    count: 0,
    cartItems: [],
    total: 0
};

function updateCartSummary() {
    cart.count = cart.cartItems.reduce((sum, item) => sum + item.qty, 0);
    cart.total = cart.cartItems.reduce((sum, item) => sum + (item.qty * item.price), 0);
    updateCartUI();
}

function updateCartUI() {
    const cartCountElement = document.getElementById('cart-count');
    if (cartCountElement) {
        cartCountElement.textContent = cart.count;
        // Add pulse animation when cart count changes
        if (cart.count > 0) {
            cartCountElement.classList.add('pulse');
            setTimeout(() => cartCountElement.classList.remove('pulse'), 2000);
        }
    }
        
    const totalAmountElement = document.getElementById('total-ammount');
    if (totalAmountElement) {
        totalAmountElement.textContent = cart.total.toFixed(2);
    }
}

function addToCart(itemId) {
    const menuItem = menuItems.find(item => item.id === itemId);
    if (!menuItem) return;
        
    const found = cart.cartItems.find(item => item.id === itemId);
    if (found) {
        found.qty += 1;
    } else {
        cart.cartItems.push({ 
            id: menuItem.id,
            name: menuItem.title,
            price: menuItem.price,
            qty: 1,
            img: menuItem.image
        });
    }
    
    // Add cart bounce animation
    const cartIcon = document.querySelector('[onclick="openCloseCartModal()"]');
    if (cartIcon) {
        cartIcon.classList.add('cart-bounce');
        setTimeout(() => cartIcon.classList.remove('cart-bounce'), 600);
    }
    
    updateCartSummary();
    writeToCart();
    
    // Re-render the menu section to update quantity badges
    writeMenuSection(menuItem.category);
}

function removeFromCart(itemId) {
    const foundIndex = cart.cartItems.findIndex(item => item.id === itemId);
    if (foundIndex !== -1) {
        const menuItem = menuItems.find(item => item.id === itemId);
        cart.cartItems[foundIndex].qty -= 1;
        if (cart.cartItems[foundIndex].qty <= 0) {
            cart.cartItems.splice(foundIndex, 1);
        }
        updateCartSummary();
        writeToCart();
        
        // Re-render the menu section to update quantity badges
        if (menuItem) {
            writeMenuSection(menuItem.category);
        }
    }
}

function clearCart() {
    cart.cartItems = [];
    cart.count = 0;
    cart.total = 0;
    updateCartUI();
    writeToCart();
    
    // Re-render all menu sections
    writeMenuSection('burger');
    writeMenuSection('fries');
    writeMenuSection('drinks');
}

function writeMenuSection(category) {
    const container = document.getElementById(`${category}-menu-grid`);
    if (!container) return;
        
    container.innerHTML = "";
    const items = menuItems.filter(menuItem => menuItem.category === category);
    items.forEach(item => {
        const cartItem = cart.cartItems.find(cartItem => cartItem.id === item.id);
        container.innerHTML += `
            <div class="menu-card shadow-xl grid grid-cols-2 gap-1 xl:gap-2 p-8 text-black dark:text-primary dark:bg-white/30 rounded-2xl">
                <div class="flex flex-col justify-between">
                    <div class="text-lg lg:text-xl font-semibold">${item.title}</div>
                    <div class="text-xs lg:text-sm dark:text-white">${item.description}</div>
                    <div class="text-base lg:text-lg font-bold text-secondary dark:text-white">GBP ${item.price}</div>
                </div>
                <div class="place-self-end-safe">
                    <div class="relative">
                        <img src="${item.image}" alt="" class="hover:scale-105 transition-transform duration-300">
                        <div class="absolute right-0 bottom-0 w-[44%] h-[40%] bg-white/90 rounded-tl-[55%] dark:invert dark:bg-white/60">
                            <div onclick="addToCart('${item.id}')" class="absolute left-[25%] top-[25%] dark:hover:invert active:transition-all duration-300 cursor-pointer hover:scale-110 transition-transform">
                                <img src="assets/img/Plus.png" alt="">
                                ${cartItem ? `<div class="absolute left-[70%] top-0 font-bold text-xs text-white w-4 h-4 pb-1 dark:invert-0 bg-primary rounded-full text-center pulse">${cartItem.qty}</div>` : ''}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;
    });
}

function writeResturants() {
    const container = document.getElementById('resturants');
    if (!container) return;
        
    container.innerHTML = "";
    resturants.forEach(resturant => {
        container.innerHTML += `
            <div class="flex flex-col items-center hover:scale-105 transition-transform duration-300">
                <div class="rounded-t-xl">
                    <img src="${resturant.logo}" alt="" class="hover:scale-110 transition-transform duration-300">
                    <div class  alt="" class="hover:scale-110 transition-transform duration-300">
                    <div class="px-4 py-3 text-center bg-primary text-white font-bold text-sm sm:text-lg xl:text-sm 2xl:text-lg w-full rounded-b-xl hover:bg-secondary transition-colors duration-300">
                        ${resturant.name}
                    </div>
                </div>
            </div>
        `;
    });
}

function writeToCart() {
    const container = document.getElementById('cart-item');
    if (!container) return;
        
    container.innerHTML = '';
    
    if (cart.cartItems.length === 0) {
        container.innerHTML = '<div class="text-center py-8 text-gray-500 fade-in">Your cart is empty</div>';
        return;
    }
    
    cart.cartItems.forEach(cartItem => {
        container.innerHTML += `
            <div class="group flex items-center justify-between cursor-pointer bg-[#D9D9D9]/60 p-4 rounded-lg hover:bg-secondary dark:bg-secondary transition-all duration-300 fade-in">
                <div class="flex items-center gap-3">
                    <img src="${cartItem.img}" alt="" class="w-[25%] h-[25%] border-2 border-white rounded-full hover:scale-105 transition-transform duration-300">
                    <div class="w-0.25 h-12 sm:h-15 bg-black/40 group-hover:invert group-active:invert dark:invert"></div>
                    <span class="font-bold text-2xl pl-1 text-secondary group-hover:text-primary dark:group-hover:text-white group-active:text-primary dark:text-primary">${cartItem.name}</span>
                </div>
                <div class="flex items-center gap-2">
                    <button class="w-5 sm:w-8 lg:w-10 group-hover:invert group-active:invert dark:invert cursor-pointer hover:scale-110 transition-transform duration-300" onclick="removeFromCart('${cartItem.id}')">
                        <img src="assets/img/Minus.png" alt="">
                    </button>
                    <div class="relative w-10 h-10 sm:w-15 sm:h-15 self-center bg-white text-xl font-bold rounded-sm text-center">
                        <div class="absolute top-[25%] left-[40%]">${cartItem.qty}</div>
                    </div>
                    <button class="w-5 sm:w-8 lg:w-10 group-hover:invert group-active:invert dark:invert cursor-pointer hover:scale-110 transition-transform duration-300" onclick="addToCart('${cartItem.id}')">
                        <img src="assets/img/MacOS Maximize.png" alt="">
                    </button>
                </div>
            </div>
        `;
    });
}

function darkModeToggler() {
    const themeToggler = document.getElementById("mode_toggler");
    const themeIcon = document.getElementById("theme-icon");
    if (localStorage.getItem("theme") === "dark" ||
        (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
        document.documentElement.classList.add("dark");
        themeIcon.src = "assets/img/sun.png";
    }
    themeToggler.addEventListener("click", () => {
        document.documentElement.classList.toggle("dark");
        const isDark = document.documentElement.classList.contains("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
        themeIcon.src = isDark ? "assets/img/sun.png" : "assets/img/moon.png";
    });
}

function openCloseCartModal() {
    const modal = document.getElementById('cart-modal-backdrop');
    const cartModal = document.getElementById('cart-modal');
    
    if (modal.classList.contains('hidden')) {
        modal.classList.remove('hidden');
        setTimeout(() => {
            cartModal.classList.remove('scale-95', 'opacity-0');
            cartModal.classList.add('scale-100', 'opacity-100');
        }, 10);
    } else {
        cartModal.classList.remove('scale-100', 'opacity-100');
        cartModal.classList.add('scale-95', 'opacity-0');
        setTimeout(() => {
            modal.classList.add('hidden');
        }, 300);
    }
}

// Mobile navigation functionality
function toggleMobileNav() {
    const mobileNav = document.getElementById('mobile-nav');
    const overlay = document.getElementById('mobile-nav-overlay');
    const menuBtn = document.getElementById('mobile-menu-btn');
    const line1 = document.getElementById('line1');
    const line2 = document.getElementById('line2');
    const line3 = document.getElementById('line3');
    
    if (mobileNav.classList.contains('active')) {
        mobileNav.classList.remove('active');
        overlay.classList.add('hidden');
        // Reset hamburger icon
        line1.style.transform = 'rotate(0deg) translateY(0px)';
        line2.style.opacity = '1';
        line3.style.transform = 'rotate(0deg) translateY(0px)';
    } else {
        mobileNav.classList.add('active');
        overlay.classList.remove('hidden');
        // Transform to X icon
        line1.style.transform = 'rotate(45deg) translateY(6px)';
        line2.style.opacity = '0';
        line3.style.transform = 'rotate(-45deg) translateY(-6px)';
    }
}

// Review slider functionality
let currentReviewIndex = 0;
const reviewsPerPage = 3;

function writeReviews() {
    const container = document.getElementById('reviews-container');
    if (!container) return;
    
    container.innerHTML = '';
    
    // Calculate which reviews to show
    const startIndex = currentReviewIndex;
    const endIndex = Math.min(startIndex + reviewsPerPage, customerReviews.length);
    const reviewsToShow = customerReviews.slice(startIndex, endIndex);
    
    reviewsToShow.forEach((review, index) => {
        const stars = '★'.repeat(review.rating) + '☆'.repeat(5 - review.rating);
        const reviewCard = document.createElement('div');
        reviewCard.className = 'shadow-lg p-8 text-black bg-white dark:bg-white/30 hover:scale-105 transition-transform duration-300 fade-in';
        reviewCard.style.animationDelay = `${index * 0.1}s`;
        reviewCard.innerHTML = `
            <div class="flex flex-col gap-4 sm:gap-8 justify-between">
                <div class="flex flex-col sm:flex-row self-start sm:self-auto gap-2 sm:justify-between items-center">
                    <div class="flex gap-2">
                        <div>
                            <img src="${review.avatar}" alt="" class="hover:scale-110 transition-transform duration-300">
                        </div>
                        <div class="w-0.5 h-12.5 bg-primary"></div>
                        <div>
                            <p class="text-lg font-semibold text-secondary dark:text-white">${review.name}</p>
                            <p class="text-primary">${review.location}</p>
                        </div>
                    </div>
                    <div>
                        <div class="flex sm:justify-end-safe">
                            <img src="assets/img/Star.png" alt="" class="hover:scale-110 transition-transform duration-300">
                            <img src="assets/img/Star.png" alt="" class="hover:scale-110 transition-transform duration-300">
                            <img src="assets/img/Star.png" alt="" class="hover:scale-110 transition-transform duration-300">
                            <img src="assets/img/Star.png" alt="" class="hover:scale-110 transition-transform duration-300">
                            <img src="assets/img/Star.png" alt="" class="hover:scale-110 transition-transform duration-300">
                        </div>
                        <div class="flex gap-2 justify-end-safe">
                            <div>
                                <img src="assets/img/Time Span.png" alt="">
                            </div>
                            <div class="text-sm dark:text-white">
                                ${review.date}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dark:text-white">
                    ${review.comment}
                </div>
            </div>
        `;
        container.appendChild(reviewCard);
    });
}

function nextReview() {
    if (currentReviewIndex + reviewsPerPage < customerReviews.length) {
        currentReviewIndex += reviewsPerPage;
        writeReviews();
    }
}

function previousReview() {
    if (currentReviewIndex > 0) {
        currentReviewIndex = Math.max(0, currentReviewIndex - reviewsPerPage);
        writeReviews();
    }
}

// Tab functionality
function switchTab(tabName) {
    // Hide all tab contents with animation
    const tabContents = document.querySelectorAll('.tab-content');
    tabContents.forEach(content => {
        content.classList.add('hidden');
    });
    
    // Remove active class from all tab buttons
    const tabButtons = document.querySelectorAll('.tab-button');
    tabButtons.forEach(button => {
        button.classList.remove('font-bold', 'border', 'text-black');
        button.classList.add('text-gray-600');
    });
    
    // Show selected tab content with animation
    const selectedTab = document.getElementById(tabName);
    if (selectedTab) {
        setTimeout(() => {
            selectedTab.classList.remove('hidden');
        }, 150);
    }
    
    // Add active class to selected tab button
    const selectedButton = document.getElementById(`tab-${tabName}`);
    if (selectedButton) {
        selectedButton.classList.add('font-bold', 'text-black', 'border', 'border-primary');
        selectedButton.classList.remove('text-gray-600');
    }
}

// Initialize animations on scroll
function initScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('fade-in');
            }
        });
    }, observerOptions);

    // Observe all sections
    document.querySelectorAll('section').forEach(section => {
        observer.observe(section);
    });
}

// Initialize the page
function init() {
    darkModeToggler();
    writeMenuSection('burger');
    writeMenuSection('fries');
    writeMenuSection('drinks');
    writeResturants();
    writeReviews();
    updateCartSummary();
    initScrollAnimations();
    
    // Mobile navigation event listeners
    document.getElementById('mobile-menu-btn').addEventListener('click', toggleMobileNav);
    document.getElementById('close-mobile-nav').addEventListener('click', toggleMobileNav);
    document.getElementById('mobile-nav-overlay').addEventListener('click', toggleMobileNav);
    
    // Close mobile nav when clicking on links
    document.querySelectorAll('#mobile-nav a').forEach(link => {
        link.addEventListener('click', toggleMobileNav);
    });
}

// Load the page
document.addEventListener('DOMContentLoaded', init);
